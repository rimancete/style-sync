#!/usr/bin/env sh

echo "ğŸ” Running pre-commit checks..."
echo "ğŸ“ Linting and formatting staged files with STRICT rules..."

# Change to server directory and run lint-staged
cd server
npx lint-staged

if [ $? -eq 0 ]; then
  echo "âœ… Pre-commit checks passed! Commit proceeding..."
else
  echo "âŒ Pre-commit checks failed. Fix the issues above before committing."
  echo "ğŸ’¡ Tip: Run 'npm run lint' to fix automatically"
  exit 1
fi
